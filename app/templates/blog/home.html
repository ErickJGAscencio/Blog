{% extends "base.html" %}

{% block content %}
<h1>Blog Posts</h1>
{% for post in posts %}    
    <div class="card mb-3">
        <div class="card-body bg-light">
            <div class="d-flex align-items-center">
                <img src="{{ post.author.profile.image.url }}" class="rounded-circle" alt="Profile Picture" style="width: 50px; height: 50px; object-fit: cover; margin-right: 20px;">
                <h2><a href="{% url 'post-detail' post.pk %}">{{ post.title }}</a></h2>
            </div>
            <h6>
                {% for category in post.categories.all %}
                {{ category.name }}
                {% endfor %}                    
            </h6>     
            <p>by {{ post.author }} on {{ post.date_posted }}</p>

            <p>{{ post.content|truncatewords:30 }}</p>
        </div>
    </div>
{% endfor %}
{% endblock %}