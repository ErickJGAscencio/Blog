{% extends "base.html" %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center">
    <h2>{{ post.title }}</h2>
    {% if object.author == user %}
        <div class="ml-auto">
            <a class="btn btn-secondary" href="{% url 'post-update' object.pk %}">Edit</a>
        </div>
    {% endif %}
  </div>
    <p>Categories: 
        {% for category in post.categories.all %}
        {{ category.name }}
        {% endfor %}
    </p>
    <p>Tags: 
        {% for tag in post.tags.all %}
        {{ tag.name }}
        {% endfor %}
    </p>  
  <p>{{ post.content }}</p>
  <hr>
  <h3>Comments</h3>
  <ul>
    {% for comment in comments %}
      <li>
        <p>{{ comment.author }} said: {{ comment.content }} on {{ comment.date_posted }}</p>
      </li>
    {% empty %}
      <li>No comments yet.</li>
    {% endfor %}
  </ul>
  <hr>
  <h3>Add a Comment</h3>
  <form method="post">
    {% csrf_token %}
    {{ comment_form.as_p }}
    <button type="submit" class="btn btn-primary">Add Comment</button>
  </form>
{% endblock %}
